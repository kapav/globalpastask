<div class="card flex justify-content-center">
  <p-card header="Список книг">
    <p class="m-0">
      <p-button
        label="Добавить"
        icon="pi pi-check"
        (onClick)="edit(true)" />
    </p>
    <p-table
        [value]="books"
        [paginator]="true"
        [rows]="10"
        selectionMode="single"
        [tableStyle]="{ 'min-width': '50rem' }"
        [rowsPerPageOptions]="[5, 10, 15]">
      <ng-template pTemplate="header">
        <tr>
          <th>Название</th>
          <th>Автор</th>
          <th>Число страниц</th>
          <th>Язык</th>
          <th>Жанр</th>
        </tr>
        <tr>
          <th>
            <p-columnFilter
              type="text"
              field="name"
              placeholder="Поиск по названию"
              ariaLabel="Фильтр по названию" />
          </th>
          <th>
            <p-columnFilter field="author" matchMode="in" [showMenu]="false">
              <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                <p-multiSelect
                    [ngModel]="value"
                    [options]="authors"
                    placeholder="Любой"
                    (onChange)="filter($event.value)"
                    optionLabel="name">
                  <ng-template let-option pTemplate="item">
                    <div class="inline-block vertical-align-middle">
                      <img
                        [alt]="option.label" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ option.image }}"
                        width="24"
                        class="vertical-align-middle" />
                      <span class="ml-1 mt-1">
                        {{ option.name }}
                      </span>
                    </div>
                  </ng-template>
                </p-multiSelect>
              </ng-template>
            </p-columnFilter>
          </th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-book>
        <tr (click)="edit(false, book)">
          <td>{{ book.name }}</td>
          <td>{{ book.author }}</td>
          <td>{{ book.pageCount }}</td>
          <td>{{ book.language }}</td>
          <td>{{ book.genre }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="5">Книг не найдено.</td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
